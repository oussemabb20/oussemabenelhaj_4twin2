import{a as N,c as B,e as j,p as W}from"./chunk-PI5HVCYI.js";import{c as A,e as H,f as G}from"./chunk-E66NZBJX.js";import{$ as E,A as a,F as h,H as d,L as e,M as t,N as l,Q as O,R as u,S as v,T as i,U as f,V as C,W as S,X as y,Y as P,Z as L,aa as _,ba as k,ca as D,ka as I,l as x,la as T,m as M,ma as V,na as F,q as b,r as w,s as c,t as p,ya as z}from"./chunk-B4X4Z6EU.js";import"./chunk-4CLCTAJ7.js";var q=r=>["/courses",r],J=r=>["/courses",r,"edit"];function K(r,o){r&1&&l(0,"app-loading-spinner")}function Q(r,o){if(r&1){let n=O();e(0,"tr")(1,"td")(2,"div",19)(3,"div",20),c(),e(4,"svg",21),l(5,"path",22),t()(),p(),e(6,"div")(7,"span",23),i(8),t(),e(9,"span",24),i(10),t()()()(),e(11,"td")(12,"span",25),i(13),t()(),e(14,"td")(15,"span",26),i(16),t()(),e(17,"td",27),i(18),k(19,"slice"),t(),e(20,"td")(21,"div",28)(22,"a",29),c(),e(23,"svg",3),l(24,"path",30)(25,"circle",31),t()(),p(),e(26,"a",29),c(),e(27,"svg",3),l(28,"path",32)(29,"path",33),t()(),p(),e(30,"button",34),u("click",function(){let m=b(n).$implicit,g=v(2);return w(g.confirmDel(m))}),c(),e(31,"svg",3),l(32,"path",35),t()()()()()}if(r&2){let n=o.$implicit;a(8),f(n.name),a(2),C("#",n.idCourse,""),a(3),f(n.code),a(3),f(n.credit),a(2),S("",D(19,8,n.description||"",0,40),"",((n.description==null?null:n.description.length)||0)>40?"...":"",""),a(4),d("routerLink",_(12,q,n.idCourse)),a(4),d("routerLink",_(14,J,n.idCourse))}}function U(r,o){r&1&&(e(0,"tr")(1,"td",36)(2,"div",37),c(),e(3,"svg",38),l(4,"path",22),t(),p(),e(5,"h3"),i(6,"No courses found"),t(),e(7,"p"),i(8,"Add your first course"),t(),e(9,"a",2),i(10,"Add Course"),t()()()())}function X(r,o){if(r&1&&(e(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th"),i(5,"Course"),t(),e(6,"th"),i(7,"Code"),t(),e(8,"th"),i(9,"Credits"),t(),e(10,"th"),i(11,"Description"),t(),l(12,"th"),t()(),e(13,"tbody"),h(14,Q,33,16,"tr",18)(15,U,11,0,"tr",13),t()()()),r&2){let n=v();a(14),d("ngForOf",n.filtered),a(),d("ngIf",n.filtered.length===0)}}var R=class r{svc=x(A);items=[];filtered=[];loading=!0;showDel=!1;selected=null;search="";ngOnInit(){this.load()}load(){this.svc.getAll().subscribe({next:o=>{this.items=o,this.filtered=o,this.loading=!1},error:()=>this.loading=!1})}filter(){let o=this.search.toLowerCase();this.filtered=this.items.filter(n=>n.name.toLowerCase().includes(o)||n.code.toLowerCase().includes(o))}confirmDel(o){this.selected=o,this.showDel=!0}del(){this.selected?.idCourse&&this.svc.delete(this.selected.idCourse).subscribe({next:()=>{this.items=this.items.filter(o=>o.idCourse!==this.selected?.idCourse),this.filter(),this.showDel=!1},error:()=>this.showDel=!1})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=M({type:r,selectors:[["app-course-list"]],standalone:!0,features:[E],decls:23,vars:6,consts:[[1,"page","animate-fade-in"],[1,"page-header"],["routerLink","/courses/new",1,"btn","btn-primary"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","width","18","height","18"],["d","M12 5v14m-7-7h14"],[1,"card"],[1,"toolbar"],[1,"search"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search courses...",3,"ngModelChange","input","ngModel"],[1,"count"],[4,"ngIf"],["class","table-wrap",4,"ngIf"],["title","Delete Course",3,"confirmed","cancelled","isOpen","message"],[1,"table-wrap"],[1,"table"],[4,"ngFor","ngForOf"],[1,"course"],[1,"icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"],[1,"name"],[1,"id"],[1,"code"],[1,"credits"],[1,"desc"],[1,"actions"],[1,"btn","btn-ghost","btn-icon-sm",3,"routerLink"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],[1,"btn","btn-ghost","btn-icon-sm",3,"click"],["d","M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["colspan","5"],[1,"empty"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1"]],template:function(n,s){n&1&&(e(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),i(4,"Courses"),t(),e(5,"p"),i(6,"Manage course catalog"),t()(),e(7,"a",2),c(),e(8,"svg",3),l(9,"path",4),t(),i(10,"Add Course"),t()(),p(),e(11,"div",5)(12,"div",6)(13,"div",7),c(),e(14,"svg",8),l(15,"circle",9)(16,"path",10),t(),p(),e(17,"input",11),L("ngModelChange",function(g){return P(s.search,g)||(s.search=g),g}),u("input",function(){return s.filter()}),t()(),e(18,"span",12),i(19),t()(),h(20,K,1,0,"app-loading-spinner",13)(21,X,16,2,"div",14),t()(),e(22,"app-confirm-dialog",15),u("confirmed",function(){return s.del()})("cancelled",function(){return s.showDel=!1}),t()),n&2&&(a(17),y("ngModel",s.search),a(2),C("",s.filtered.length," courses"),a(),d("ngIf",s.loading),a(),d("ngIf",!s.loading),a(),d("isOpen",s.showDel)("message","Delete "+(s.selected==null?null:s.selected.name)+"?"))},dependencies:[F,I,T,V,z,W,N,B,j,G,H],styles:[".page[_ngcontent-%COMP%]{padding:var(--space-8);max-width:1440px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-6);flex-wrap:wrap;gap:var(--space-4)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:var(--space-1)}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary)}.card[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-xl);overflow:hidden}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-4) var(--space-6);border-bottom:1px solid var(--border-subtle);flex-wrap:wrap;gap:var(--space-4)}.search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3);background:var(--bg-base);border:1px solid var(--border-default);border-radius:var(--radius-lg);padding:var(--space-2) var(--space-4);min-width:300px}.search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--text-muted)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:none;color:var(--text-primary);font-size:.9375rem;width:100%}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.count[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary)}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.course[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3)}.icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--radius-lg);background:linear-gradient(135deg,#2dd4bf,#14b8a6);display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#fff}.name[_ngcontent-%COMP%]{display:block;font-weight:500}.id[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.code[_ngcontent-%COMP%]{display:inline-block;padding:var(--space-1) var(--space-3);background:#2dd4bf1a;color:var(--accent-400);border-radius:var(--radius-md);font-size:.8125rem;font-weight:600;font-family:monospace}.credits[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;background:#22c55e1a;color:var(--success-500);border-radius:var(--radius-full);font-size:.8125rem;font-weight:600}.desc[_ngcontent-%COMP%]{max-width:200px;color:var(--text-secondary);font-size:.875rem}.actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-1)}.empty[_ngcontent-%COMP%]{padding:var(--space-16) var(--space-8);text-align:center}.empty[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--text-muted);margin-bottom:var(--space-4)}.empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:var(--space-2)}.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:var(--space-6)}@media (max-width: 768px){.page[_ngcontent-%COMP%]{padding:var(--space-4)}.search[_ngcontent-%COMP%]{min-width:100%}}"]})};export{R as CourseListComponent};
