import './polyfills.server.mjs';
import{a as G,c as A,e as j,p as B}from"./chunk-XIT27GUT.mjs";import{a as z,e as F,f as H}from"./chunk-B24YV5OD.mjs";import{$ as d,M as y,N as r,Na as D,Oa as T,Qa as N,T as h,V as s,W as w,Z as e,_ as t,ca as O,da as _,ea as g,fa as o,ga as f,ha as v,ia as P,ja as E,jb as V,ka as L,la as k,m as x,na as I,o as C,oa as S,t as b,u as M,v as c,w as m}from"./chunk-ALOC2SIV.mjs";import"./chunk-5XUXGTUW.mjs";var U=a=>["/students",a],R=a=>["/students",a,"edit"];function $(a,i){a&1&&d(0,"app-loading-spinner")}function q(a,i){if(a&1&&(e(0,"span",35),o(1),t()),a&2){let n=g().$implicit;r(),f(n.department.name)}}function J(a,i){a&1&&(e(0,"span",36),o(1,"\u2014"),t())}function K(a,i){if(a&1){let n=O();e(0,"tr")(1,"td")(2,"div",19)(3,"div",20),o(4),t(),e(5,"div")(6,"span",21),o(7),t(),e(8,"span",22),o(9),t()()()(),e(10,"td")(11,"a",23),o(12),t()(),e(13,"td"),o(14),t(),e(15,"td"),h(16,q,2,1,"span",24)(17,J,2,0,"span",25),t(),e(18,"td")(19,"div",26)(20,"a",27),c(),e(21,"svg",3),d(22,"path",28)(23,"circle",29),t()(),m(),e(24,"a",30),c(),e(25,"svg",3),d(26,"path",31)(27,"path",32),t()(),m(),e(28,"button",33),_("click",function(){let p=b(n).$implicit,u=g(2);return M(u.confirmDel(p))}),c(),e(29,"svg",3),d(30,"path",34),t()()()()()}if(a&2){let n=i.$implicit,l=g(2);r(3),w("background",l.getColor(n)),r(),f(l.initials(n)),r(3),P("",n.firstName," ",n.lastName,""),r(2),v("#",n.idStudent,""),r(2),s("href","mailto:"+n.email,y),r(),f(n.email),r(2),f(n.phone),r(2),s("ngIf",n.department),r(),s("ngIf",!n.department),r(3),s("routerLink",S(13,U,n.idStudent)),r(4),s("routerLink",S(15,R,n.idStudent))}}function Q(a,i){a&1&&(e(0,"tr")(1,"td",37)(2,"div",38),c(),e(3,"svg",39),d(4,"circle",40)(5,"path",41),t(),m(),e(6,"h3"),o(7,"No students found"),t(),e(8,"p"),o(9,"Add your first student to get started"),t(),e(10,"a",2),o(11,"Add Student"),t()()()())}function X(a,i){if(a&1&&(e(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th"),o(5,"Student"),t(),e(6,"th"),o(7,"Email"),t(),e(8,"th"),o(9,"Phone"),t(),e(10,"th"),o(11,"Department"),t(),d(12,"th"),t()(),e(13,"tbody"),h(14,K,31,17,"tr",18)(15,Q,12,0,"tr",13),t()()()),a&2){let n=g();r(14),s("ngForOf",n.filtered),r(),s("ngIf",n.filtered.length===0)}}var W=class a{svc=x(z);items=[];filtered=[];loading=!0;showDel=!1;selected=null;search="";colors=["#6366f1","#14b8a6","#f59e0b","#ec4899","#8b5cf6","#06b6d4"];ngOnInit(){this.load()}load(){this.svc.getAll().subscribe({next:i=>{this.items=i,this.filtered=i,this.loading=!1},error:()=>this.loading=!1})}filter(){let i=this.search.toLowerCase();this.filtered=this.items.filter(n=>(n.firstName+" "+n.lastName+" "+n.email).toLowerCase().includes(i))}initials(i){return(i.firstName[0]+i.lastName[0]).toUpperCase()}getColor(i){return this.colors[(i.idStudent||0)%this.colors.length]}confirmDel(i){this.selected=i,this.showDel=!0}del(){this.selected?.idStudent&&this.svc.delete(this.selected.idStudent).subscribe({next:()=>{this.items=this.items.filter(i=>i.idStudent!==this.selected?.idStudent),this.filter(),this.showDel=!1},error:()=>this.showDel=!1})}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=C({type:a,selectors:[["app-student-list"]],standalone:!0,features:[I],decls:23,vars:6,consts:[[1,"page","animate-fade-in"],[1,"page-header"],["routerLink","/students/new",1,"btn","btn-primary"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","width","18","height","18"],["d","M12 5v14m-7-7h14"],[1,"card"],[1,"toolbar"],[1,"search"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search by name or email...",3,"ngModelChange","input","ngModel"],[1,"count"],[4,"ngIf"],["class","table-wrap",4,"ngIf"],["title","Delete Student",3,"confirmed","cancelled","isOpen","message"],[1,"table-wrap"],[1,"table"],[4,"ngFor","ngForOf"],[1,"user"],[1,"avatar"],[1,"name"],[1,"id"],[3,"href"],["class","tag",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"actions"],["title","View",1,"btn","btn-ghost","btn-icon-sm",3,"routerLink"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["title","Edit",1,"btn","btn-ghost","btn-icon-sm",3,"routerLink"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["title","Delete",1,"btn","btn-ghost","btn-icon-sm",3,"click"],["d","M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],[1,"tag"],[1,"text-muted"],["colspan","5"],[1,"empty"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1"],["cx","12","cy","8","r","5"],["d","M3 21v-2a7 7 0 0 1 7-7h4a7 7 0 0 1 7 7v2"]],template:function(n,l){n&1&&(e(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),o(4,"Students"),t(),e(5,"p"),o(6,"Manage student records"),t()(),e(7,"a",2),c(),e(8,"svg",3),d(9,"path",4),t(),o(10," Add Student "),t()(),m(),e(11,"div",5)(12,"div",6)(13,"div",7),c(),e(14,"svg",8),d(15,"circle",9)(16,"path",10),t(),m(),e(17,"input",11),k("ngModelChange",function(u){return L(l.search,u)||(l.search=u),u}),_("input",function(){return l.filter()}),t()(),e(18,"span",12),o(19),t()(),h(20,$,1,0,"app-loading-spinner",13)(21,X,16,2,"div",14),t()(),e(22,"app-confirm-dialog",15),_("confirmed",function(){return l.del()})("cancelled",function(){return l.showDel=!1}),t()),n&2&&(r(17),E("ngModel",l.search),r(2),v("",l.filtered.length," students"),r(),s("ngIf",l.loading),r(),s("ngIf",!l.loading),r(),s("isOpen",l.showDel)("message","Delete "+(l.selected==null?null:l.selected.firstName)+" "+(l.selected==null?null:l.selected.lastName)+"?"))},dependencies:[N,D,T,V,B,G,A,j,H,F],styles:[".page[_ngcontent-%COMP%]{padding:var(--space-8);max-width:1440px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-6);flex-wrap:wrap;gap:var(--space-4)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:var(--space-1)}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9375rem}.card[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:var(--radius-xl);overflow:hidden}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--space-4) var(--space-6);border-bottom:1px solid var(--border-subtle);flex-wrap:wrap;gap:var(--space-4)}.search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3);background:var(--bg-base);border:1px solid var(--border-default);border-radius:var(--radius-lg);padding:var(--space-2) var(--space-4);min-width:300px}.search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:var(--text-muted)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:none;color:var(--text-primary);font-size:.9375rem;width:100%}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.count[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary)}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-3)}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:.875rem;flex-shrink:0}.name[_ngcontent-%COMP%]{display:block;font-weight:500}.id[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.tag[_ngcontent-%COMP%]{display:inline-block;padding:var(--space-1) var(--space-3);background:#6366f11a;color:var(--primary-400);border-radius:var(--radius-full);font-size:.8125rem;font-weight:500}.actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-1)}.empty[_ngcontent-%COMP%]{padding:var(--space-16) var(--space-8);text-align:center}.empty[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--text-muted);margin-bottom:var(--space-4)}.empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:var(--space-2)}.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:var(--space-6)}@media (max-width: 768px){.page[_ngcontent-%COMP%]{padding:var(--space-4)}.search[_ngcontent-%COMP%]{min-width:100%}.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}"]})};export{W as StudentListComponent};
